!function(e){function t(t){for(var n,o,i=t[0],u=t[1],a=0,l=[];a<i.length;a++)o=i[a],r[o]&&l.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={1:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=i);var u,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+"js/"+({}[e]||e)+"."+{3:"1903acfae8810bee17af",4:"42271f4fe3c05991f7f3",5:"3c4a662ca1696ac9a7b8",6:"8e175e9fcf4059378628"}[e]+".chunk.js"}(e),u=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,u=new Error("Loading chunk "+e+" failed.\n("+o+": "+i+")");u.type=o,u.request=i,n[1](u)}r[e]=void 0}};var c=setTimeout(function(){u({type:"timeout",target:a})},12e4);a.onerror=a.onload=u,document.head.appendChild(a)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var a=0;a<i.length;a++)t(i[a]);var c=u;o(o.s=22)}({1:function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}c((r=r.apply(e,t||[])).next())})},o=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(){function e(e,t){this.tokipona=e.tokipona,t&&(this.tokipona=this.tokipona.replace(/\s(\(e \))?$/g,"")),this.class=e.class.trim(),this.definitions=e.english.split(/,/).map(function(e){return e.trim()})}return e.prototype.formatClass=function(){return-1!==["verb transitive","verb intransitive"].indexOf(this.class)?this.class.split(" ").reverse().join(" "):this.class},e}(),u=function(){function e(){}return e.getOfficial=function(e){return void 0===e&&(e=!0),r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,n.e(3).then(n.t.bind(null,12,7))];case 1:return[2,t.sent().default.map(function(t){return new i(t,e)})]}})})},e.getWords=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,n.e(6).then(n.t.bind(null,13,7))];case 1:return[2,e.sent().default.map(function(e){return e})]}})})},e.getProperNouns=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,n.e(4).then(n.t.bind(null,14,7))];case 1:return[2,e.sent().default.map(function(e){return e})]}})})},e.getSentences=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,n.e(5).then(n.t.bind(null,15,7))];case 1:return[2,e.sent().default.map(function(e){return e})]}})})},e}();t.a=u},22:function(e,t,n){"use strict";n.r(t);var r=n(1),o=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(u,a)}c((r=r.apply(e,t||[])).next())})},i=function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};var u=function(){function e(e){this.data=e}return e.prototype.search=function(e){var t=RegExp("\\b"+e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"\\b","gi");console.log(t);for(var n=[],r=0,o=this.data;r<o.length;r++){for(var i=o[r],u=[],a=0,c=[i.tokipona.replace(/\s(\(e \))?$/g,""),i.english];a<c.length;a++){for(var l=c[a],s=0;null!==t.exec(l);)s++;s>0&&u.push(s*(500/s-l.length))}if(0!=u.length){var f=1==u.length?u[0]:(u[0]+u[1])/2;f>0&&n.push([f,i])}}return n.sort(function(e,t){return e[0]<t[0]?1:-1}),console.log(n),n.map(function(e){return e[1]})},e}(),a=function(){function e(){}return e.prototype.run=function(){return o(this,void 0,void 0,function(){var e,t,n,o,a,c,l,s,f,p,h,d,b,v=this;return i(this,function(i){switch(i.label){case 0:return e=[],t=0,[4,r.a.getOfficial(!1)];case 1:n=i.sent(),i.label=2;case 2:if(!(t<n.length))return[3,4];o=n[t],e.push({tokipona:o.tokipona,english:o.formatClass()+": "+o.definitions.join(", ")}),i.label=3;case 3:return t++,[3,2];case 4:return c=(a=e.push).apply,l=[e],[4,r.a.getProperNouns()];case 5:return c.apply(a,l.concat([i.sent()])),f=(s=e.push).apply,p=[e],[4,r.a.getSentences()];case 6:return f.apply(s,p.concat([i.sent()])),d=(h=e.push).apply,b=[e],[4,r.a.getWords()];case 7:return d.apply(h,b.concat([i.sent()])),this.searcher=new u(e),document.getElementById("search").addEventListener("submit",function(e){e.preventDefault();var t=new FormData(e.target).get("query");t&&v.search(t).catch(function(e){console.error(e)})}),this.table=document.getElementById("table"),[2]}})})},e.prototype.search=function(e){return o(this,void 0,void 0,function(){var t,n,r,o,u,a;return i(this,function(i){for(console.log("Searched for:",e),t=document.createElement("tbody"),n=this.searcher.search(e),r=0,o=n;r<o.length;r++)u=o[r],(a=t.insertRow(-1)).insertCell(-1).innerHTML=u.tokipona,a.insertCell(-1).innerHTML=u.english;return this.table.replaceChild(t,this.table.tBodies[0]),[2]})})},e}();document.addEventListener("DOMContentLoaded",function(){(new a).run().catch(function(e){console.error(e)})})}});
//# sourceMappingURL=dictionary.55b79305d11f0fe771a3.bundle.js.map